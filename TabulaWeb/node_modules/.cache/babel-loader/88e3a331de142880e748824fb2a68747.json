{"ast":null,"code":"var _jsxFileName = \"/Users/leonzalion/Desktop/Projects/tabula/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport $ from 'jquery';\nimport './App.css';\nconst clickX = [],\n      clickY = [],\n      clickDrag = [],\n      connected = [];\n\nfunction addClick(x, y, dragging) {\n  clickX.push(x);\n  clickY.push(y);\n  clickDrag.push(dragging);\n}\n\nlet context;\nlet paint = false;\n\nfunction redraw() {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  context.strokeStyle = \"#df4b26\";\n  context.lineJoin = \"round\";\n  context.lineWidth = 5;\n\n  for (let i = 0; i < clickX.length; i++) {\n    context.beginPath();\n\n    if (clickDrag[i] && i) {\n      context.moveTo(clickX[i - 1], clickY[i - 1]);\n    } else {\n      context.moveTo(clickX[i] - 1, clickY[i]);\n    }\n\n    context.lineTo(clickX[i], clickY[i]);\n    context.closePath();\n    context.stroke();\n  }\n}\n\nfunction App() {\n  useEffect(() => {\n    context = document.getElementById('canvas').getContext('2d');\n    $('#canvas').mousedown(function (e) {\n      let mouseX = e.pageX - this.offsetLeft;\n      let mouseY = e.pageY - this.offsetTop;\n      paint = true;\n      addClick(mouseX, mouseY);\n      redraw();\n    });\n    $('#canvas').mousemove(function (e) {\n      if (paint) {\n        let mouseX = e.pageX - this.offsetLeft;\n        let mouseY = e.pageY - this.offsetTop;\n        addClick(mouseX, mouseY, true);\n        redraw();\n      }\n    });\n    $('#canvas').mouseup(function (e) {\n      paint = false;\n      let mouseX = e.pageX - this.offsetLeft;\n      let mouseY = e.pageY - this.offsetTop;\n      addClick(mouseX, mouseY, false);\n    });\n    $('#canvas').mouseleave(function (e) {\n      paint = false;\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    id: \"canvas\",\n    width: \"1000\",\n    height: \"1000\",\n    style: {\n      border: '1px' + ' solid black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/leonzalion/Desktop/Projects/tabula/src/App.js"],"names":["React","useEffect","useState","$","clickX","clickY","clickDrag","connected","addClick","x","y","dragging","push","context","paint","redraw","clearRect","canvas","width","height","strokeStyle","lineJoin","lineWidth","i","length","beginPath","moveTo","lineTo","closePath","stroke","App","document","getElementById","getContext","mousedown","e","mouseX","pageX","offsetLeft","mouseY","pageY","offsetTop","mousemove","mouseup","mouseleave","border"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport $ from 'jquery';\nimport './App.css';\n\nconst clickX = [], clickY = [], clickDrag = [], connected = [];\nfunction addClick(x, y, dragging) {\n  clickX.push(x);\n  clickY.push(y);\n  clickDrag.push(dragging);\n}\n\nlet context;\nlet paint = false;\n\nfunction redraw() {\n  context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n  context.strokeStyle = \"#df4b26\";\n  context.lineJoin = \"round\";\n  context.lineWidth = 5;\n\n  for(let i = 0; i < clickX.length; i++) {\n    context.beginPath();\n    if (clickDrag[i] && i) {\n      context.moveTo(clickX[i-1], clickY[i-1]);\n    } else {\n      context.moveTo(clickX[i]-1, clickY[i]);\n    }\n    context.lineTo(clickX[i], clickY[i]);\n    context.closePath();\n    context.stroke();\n  }\n}\n\nfunction App() {\n  useEffect(() => {\n    context = document.getElementById('canvas').getContext('2d');\n\n    $('#canvas').mousedown(function(e) {\n      let mouseX = e.pageX - this.offsetLeft;\n      let mouseY = e.pageY - this.offsetTop;\n\n      paint = true;\n      addClick(mouseX, mouseY);\n      redraw();\n    });\n\n    $('#canvas').mousemove(function(e) {\n      if (paint) {\n        let mouseX = e.pageX - this.offsetLeft;\n        let mouseY = e.pageY - this.offsetTop;\n\n        addClick(mouseX, mouseY, true);\n        redraw();\n      }\n    });\n\n    $('#canvas').mouseup(function(e) {\n      paint = false;\n      let mouseX = e.pageX - this.offsetLeft;\n      let mouseY = e.pageY - this.offsetTop;\n      addClick(mouseX, mouseY, false);\n    });\n\n    $('#canvas').mouseleave(function(e) {\n      paint = false;\n    });\n\n  }, []);\n  return (\n    <div className=\"App\">\n      <canvas id=\"canvas\" width=\"1000\" height=\"1000\" style={{border: '1px' +\n          ' solid black'}}>\n\n      </canvas>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}